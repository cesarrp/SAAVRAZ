import numpy
import scipy.io.wavfile
from scipy.signal import find_peaks_cwt
from peakdetect import peakdetect

from matplotlib import pyplot as plt

wavFile = scipy.io.wavfile.read("/home/dummy/AudioSamples/314_mono.wav")
wavArray = wavFile[1]

indexes = [219, 548, 1241, 1755, 2411, 2831, 3157, 3624, 4044, 4333, 4812, 5259, 5679, 6005, 6422, 6829, 7242, 7676, 8063, 8510, 8836, 9358, 9796, 10244, 10668, 11163, 11522, 11962, 12358, 12656, 13078, 13448, 13816, 14204, 14934, 15318, 15723, 16515, 16882, 17346, 18126, 19388, 20259, 20693, 21073, 21433, 21797, 22172, 22645, 23017, 23656, 24016, 25069, 25786, 26102, 26822, 27209, 27627, 28381, 28734, 29208, 29575, 30031, 30440, 31053, 31799, 32661, 33210, 33549, 34012, 34389, 34822, 35097, 35483, 35863, 36352, 36744, 37069, 37442, 37836, 38247, 38673, 39077, 39501, 39917, 40378, 40879, 41289, 41706, 42417, 42768, 43605, 44349, 45450, 46189, 47591, 48040, 48352, 49885, 50154, 50810, 51272, 51904, 52289, 52834, 53517, 53938, 54124, 54624, 55268, 55610, 55916, 56332, 56901, 57299, 57807, 58301, 59045, 59287]
## y=[]
## for x in indexes:
##    y.append(wavArray[x])
indexes = peakdetect(wavArray, lookahead=100)
pplus = indexes[0]
pminus = indexes[1]
pplus.extend(pminus)
## plt.plot(indexes,y)
plt.plot(pplus)
plt.ylabel('wavPlot')
plt.show()

## indexes = find_peaks_cwt(cb, numpy.arange(1, 550))
print indexes
print len(indexes)
## print ("[219, 548, 1241, 1755, 2411, 2831, 3157, 3624, 4044, 4333, 4812, 5259, 5679, 6005, 6422, 6829, 7242, 7676, 8063, 8510, 8836, 9358, 9796, 10244, 10668, 11163, 11522, 11962, 12358, 12656, 13078, 13448, 13816, 14204, 14934, 15318, 15723, 16515, 16882, 17346, 18126, 19388, 20259, 20693, 21073, 21433, 21797, 22172, 22645, 23017, 23656, 24016, 25069, 25786, 26102, 26822, 27209, 27627, 28381, 28734, 29208, 29575, 30031, 30440, 31053, 31799, 32661, 33210, 33549, 34012, 34389, 34822, 35097, 35483, 35863, 36352, 36744, 37069, 37442, 37836, 38247, 38673, 39077, 39501, 39917, 40378, 40879, 41289, 41706, 42417, 42768, 43605, 44349, 45450, 46189, 47591, 48040, 48352, 49885, 50154, 50810, 51272, 51904, 52289, 52834, 53517, 53938, 54124, 54624, 55268, 55610, 55916, 56332, 56901, 57299, 57807, 58301, 59045, 59287]")
